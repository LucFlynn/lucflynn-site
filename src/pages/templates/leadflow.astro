---
import BaseLayout from '../../layouts/BaseLayout.astro';
---

<BaseLayout
  title="Get More Local Leads in 7 Days | Cut Wasted Ad Spend | LeadFlow Rescueâ„¢"
  description="We fix & relaunch your Google + Meta ads in 7 days, install tracking, build fast landing pages, and cut wasted spendâ€”so you get more booked jobs. $199â€“$399/mo. CPL-Improvement Guarantee."
  showNav={false}
  showFooter={false}
>

  <!-- Sticky CTA Bar -->
  <div class="sticky-cta" id="sticky-cta">
    <div class="sticky-cta-content">
      <span class="sticky-cta-text">Ready to cut wasted ad spend and get more leads in 7 days?</span>
      <a href="#contact-form" class="btn btn-primary">Start My 7-Day Rescue</a>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <!-- Big Hook at Top -->
      <div class="hero-hook">
        <h1 class="hook-headline">Wasting money on ads?<br>Start here.</h1>
      </div>

      <div class="hero-content">
        <div class="hero-intro">
          <div class="hero-left">
            <div class="hero-image-small">
              <img src="/assets/images/headshot.jpg" alt="Luc Flynn" />
            </div>
            <div class="hero-text">
              <h2 class="hero-headline">Hey, I'm Luc</h2>
              <ul class="hero-bullets">
                <li>$10M+ ad spend managed</li>
                <li>200+ service businesses helped</li>
                <li>Average 22-38% CPL reduction in 30 days</li>
                <li>Specialist in Google Ads, Meta, GA4 & GTM</li>
                <li>Fixed tracking for businesses when "experts" couldn't</li>
              </ul>
            </div>
          </div>

          <div class="hero-right">
            <!-- Video or additional content goes here -->
            <div class="hero-video-placeholder">
              <div class="video-icon">ðŸŽ¥</div>
              <p>Video Coming Soon</p>
            </div>
          </div>
        </div>

        <!-- Single Primary CTA: Audit -->
        <div class="audit-cta-section">
          <!-- Simple Arrow -->
          <div class="arrow-container">
            <span class="arrow-text">Start here!</span>
            <svg class="simple-arrow" viewBox="0 0 100 40" xmlns="http://www.w3.org/2000/svg">
              <!-- Outline/Glow -->
              <line x1="0" y1="20" x2="70" y2="20" stroke="#8B5CF6" stroke-width="7" stroke-linecap="round" opacity="0.5"/>
              <!-- Main arrow -->
              <line x1="0" y1="20" x2="70" y2="20" stroke="#A6ADFF" stroke-width="4" stroke-linecap="round"/>
              <!-- Arrowhead outline -->
              <polygon points="70,10 90,20 70,30" fill="#A6ADFF"/>
            </svg>
          </div>

          <div class="audit-card">
            <div class="audit-icon">ðŸŽ¯</div>
            <h2 class="audit-title">Free Ad Account Health Check</h2>
            <p class="audit-subhead">Get 3 ways to lower your cost per lead on your screen in 60 seconds.</p>

            <div class="audit-process">
              <div class="process-step">
                <span class="step-number">1</span>
                <span class="step-text">Answer 5 quick questions</span>
              </div>
              <div class="process-step">
                <span class="step-number">2</span>
                <span class="step-text">Get your custom results instantly</span>
              </div>
              <div class="process-step">
                <span class="step-number">3</span>
                <span class="step-text">See exactly what to fix first</span>
              </div>
            </div>

            <a href="/templates/healthcheck" class="btn btn-primary btn-lg audit-btn">Get My 3 Improvements Now</a>

            <p class="audit-footnote">No email required. No catch. No sales call. Just 3 specific things you can do today.</p>
          </div>

          <a href="#all-resources" class="advanced-link">Already know your constraint? See all resources â†’</a>
        </div>

        <!-- Avatar Split -->
        <div class="avatar-split">
          <h3 class="avatar-split-title">Need More Help?</h3>
          <div class="avatar-cards">
            <a href="/templates/services" class="avatar-card">
              <span class="avatar-icon">ðŸ’¼</span>
              <span class="avatar-text">Done-For-You Services</span>
            </a>
            <a href="/templates/training" class="avatar-card">
              <span class="avatar-icon">ðŸŽ“</span>
              <span class="avatar-text">Free DIY Training</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Visual Case Studies -->
  <section class="case-studies-visual">
    <div class="container">
      <h2 class="section-title">Real Results</h2>
      <div class="case-studies-grid">
        <div class="case-study-card">
          <img src="/assets/images/5cru8.png" alt="Home Services Case Study - 57% CPL Reduction" loading="lazy">
        </div>
        <div class="case-study-card">
          <img src="/assets/images/Opo735.png" alt="B2B Severless Case Study - 110% MQL Increase" loading="lazy">
        </div>
        <div class="case-study-card">
          <img src="/assets/images/p37d00.png" alt="Ecomm Home Service Client - 95% CPA Reduction" loading="lazy">
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-links">
          <a href="/templates/services">Services & Pricing</a>
          <a href="/templates/training">Free Training</a>
          <a href="mailto:luc@lucflynn.com">Contact</a>
        </div>
        <div class="footer-copyright">
          &copy; <span id="currentYear"></span> Luc Flynn. All rights reserved.
        </div>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script is:inline>
    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // Sticky CTA visibility
    const stickyCta = document.getElementById('sticky-cta');
    const hero = document.querySelector('.hero');

    window.addEventListener('scroll', () => {
      if (window.scrollY > hero.offsetHeight) {
        stickyCta.classList.add('visible');
      } else {
        stickyCta.classList.remove('visible');
      }
    });

    // FAQ accordion
    document.querySelectorAll('.faq-question').forEach(button => {
      button.addEventListener('click', () => {
        const faqItem = button.parentElement;
        const isOpen = faqItem.classList.contains('active');

        // Close all
        document.querySelectorAll('.faq-item').forEach(item => {
          item.classList.remove('active');
        });

        // Open clicked if it wasn't open
        if (!isOpen) {
          faqItem.classList.add('active');
        }
      });
    });

    // Form handling
    function getUrlParameter(name) {
      name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
      var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
      var results = regex.exec(location.search);
      return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
    }

    document.addEventListener("DOMContentLoaded", function() {
      const gclidValue = getUrlParameter('gclid');
      if (gclidValue) {
        document.getElementById('gclid_field').value = gclidValue;
      }

      const fbclidValue = getUrlParameter('fbclid');
      if (fbclidValue) {
        document.getElementById('fbclid_field').value = fbclidValue;
      }
    });

    const form = document.getElementById("my-form");

    async function handleSubmit(event) {
      event.preventDefault();
      var status = document.getElementById("my-form-status");
      var data = new FormData(event.target);

      fetch(event.target.action, {
        method: form.method,
        body: data,
        headers: {
          'Accept': 'application/json'
        }
      }).then(response => {
        if (response.ok) {
          status.innerHTML = "Thanks for your submission! We'll be in touch within 24 hours.";
          form.reset();
        } else {
          response.json().then(data => {
            if (Object.hasOwn(data, 'errors')) {
              status.innerHTML = data["errors"].map(error => error["message"]).join(", ");
            } else {
              status.innerHTML = "Oops! There was a problem submitting your form";
            }
          });
        }
      }).catch(error => {
        status.innerHTML = "Oops! There was a problem submitting your form";
      });
    }

    form.addEventListener("submit", handleSubmit);

    // Year
    document.getElementById('currentYear').textContent = new Date().getFullYear();
  </script>

</BaseLayout>
