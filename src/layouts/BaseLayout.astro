---
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';
import TrackingScripts from '../components/TrackingScripts.astro';
import '../styles/global.css';

interface Props {
  title: string;
  description?: string;
  canonicalUrl?: string;
  ogTitle?: string;
  ogDescription?: string;
  ogUrl?: string;
  ogType?: string;
  showNav?: boolean;
  showFooter?: boolean;
}

const {
  title,
  description = 'Free ad management resources, SOPs, templates, and tools by Luc Flynn.',
  canonicalUrl,
  ogTitle,
  ogDescription,
  ogUrl,
  ogType = 'website',
  showNav = true,
  showFooter = true,
} = Astro.props;

const fullTitle = title.includes('Luc Flynn') ? title : `${title} | Luc Flynn`;
---
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{fullTitle}</title>
  <meta name="description" content={description} />
  {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
  {ogTitle && <meta property="og:title" content={ogTitle} />}
  {ogDescription && <meta property="og:description" content={ogDescription} />}
  {ogUrl && <meta property="og:url" content={ogUrl} />}
  <meta property="og:type" content={ogType} />
  <meta property="og:site_name" content="Luc Flynn" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />
  <TrackingScripts />
  <slot name="head" />
</head>
<body>
  {showNav && <Nav />}
  <slot />
  {showFooter && <Footer />}
</body>
</html>
